version: v2
plugins:
  # --- RPC server/CLI ---
  - remote: buf.build/protocolbuffers/go:v1.36.10
    out: ../specs
    opt:
      - paths=source_relative

  - remote: buf.build/connectrpc/go:v1.19.1
    out: ../specs
    opt:
      - paths=source_relative

  # --- API ---
  - remote: buf.build/protocolbuffers/python:v33.1
    out: ../api/specs

  - remote: buf.build/protocolbuffers/pyi:v33.1
    out: ../api/specs

  # --- Frontend ---
  - remote: buf.build/bufbuild/es:v2.10.1
    out: ../web/specs
    include_imports: true
    opt:
      - target=ts
